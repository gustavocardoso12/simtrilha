<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui">
<ui:composition template="/templates/layout.xhtml">
	<ui:define name="content">

		<p:ajaxStatus style="display:none;margin-bottom:2em;height:24px;">


		</p:ajaxStatus>

		<p:ajaxStatus onstart="PF('statusDialog').show()"
			onsuccess="PF('statusDialog').hide()" />

		<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
			closable="false" resizable="false" showHeader="false">
			<h:panelGrid columns="2">
				<h:outputLabel style="font-size:14px;font-weight:bold"
					value="Carregando Auto Trilhas..." />
				<p:graphicImage name="/images/waiting.gif" />
			</h:panelGrid>
		</p:dialog>


	<h:panelGrid id="panepessoasCargos" styleClass="dialog"
		style="top: 78px;
left: 282px;
width: 142px;
margin-left: 10px;
margin-top: 5px;
opacity: 1;"
			columnClasses="col2,col2" columns="2">
	<p:commandLink id="btnCargo" global="false" action="#{tbCARGOSBean.SelecionaCargosAT}"  update="paneCargos panepessoasCargos"  style="margin-right:20px;">
       
  		
		<h:outputLabel
					
					
					style="top: 135px;
left: 302px;
width: 67px;
height: 15px;
text-align: left;
font: Normal 12px/15px Montserrat;
letter-spacing: 0px;
color: #000000;
opacity: 1;" 
styleClass="#{(tbCARGOSBean.selector==true) ? 'customSelectorStyle': 'customSelectorPessoasStyle'}"
value="Cargo" />
  </p:commandLink>

<p:commandLink
 id="btnPessoas" rendered="#{userBean.user.flag_grade=='SIM'}" global="false" action="#{tbCARGOSBean.SelecionaPessoasAT}" update="paneCargos panepessoasCargos"  style="margin-right:20px;">
<h:outputLabel
styleClass="#{(tbCARGOSBean.selector==true) ? 'customSelectorPessoasStyle': 'customSelectorStyle'}"
					style="top: 135px;
left: 302px;
width: 67px;
height: 15px;
text-align: left;
font: Normal 12px/15px Montserrat;
letter-spacing: 0px;
color: #000000;
opacity: 1;" value="Pessoa" />
	
	</p:commandLink>
	</h:panelGrid>


<div class="ui-g">


		<h:panelGrid id="paneCargos" styleClass="dialogAT"
			columnClasses="col2,col2" style="margin-left: 10px;" columns="2">
			<h:form>

				<h:panelGrid id="paneCargoDe">
					<h:outputLabel
					style="top: 135px;
left: 302px;
width: 67px;
height: 15px;
text-align: left;
font: Normal 12px/15px Montserrat;
letter-spacing: 0px;
color: #000000;
opacity: 1;" value="Família De" for="idAREASelectInput" />
					<p:selectOneMenu styleClass="menuAT" autoWidth="false" style="width:300px"
						value="#{tbCARGOSBean.areaEscolhida}" id="idAREASelectInput">
						<f:selectItem noSelectionOption="true" itemLabel="" />
						<f:selectItems value="#{tbCARGOSBean.distinctArea}" var="tbCARGO"
							itemLabel="#{tbCARGO}" itemValue="#{tbCARGO}" />
						<p:ajax event="change" global="false"
							update="paneCargoDe
								" />
					</p:selectOneMenu>

					<h:outputLabel
					
						style="top: 135px;
left: 302px;
width: 67px;
height: 15px;
text-align: left;
font: Normal 12px/15px Montserrat;
letter-spacing: 0px;
color: #000000;
opacity: 1;"
						value="SubFamília De" for="idDEPTOSelectInput" />
					<p:selectOneMenu styleClass="menuAT" style="width:300px"
					
						value="#{tbCARGOSBean.departamentoEscolhido}"
						id="idDEPTOSelectInput">
						<f:selectItem noSelectionOption="true" itemLabel="" />
						<f:selectItems value="#{tbCARGOSBean.distinctDepto}" var="tbCARGO"
							itemLabel="#{tbCARGO}" itemValue="#{tbCARGO}" />
						<p:ajax event="change" global="false"
							update="paneCargoDe
								" />

					</p:selectOneMenu>
					<h:outputLabel
						
						style="top: 135px;
left: 302px;
width: 67px;
height: 15px;
text-align: left;
font: Normal 12px/15px Montserrat;
letter-spacing: 0px;
color: #000000;
opacity: 1;"
						value="#{(tbCARGOSBean.selector==true) ? 'Cargo': 'Pessoa'} De" for="idCARGOSSelectInput" />
					<p:selectOneMenu styleClass="menuAT" style="width:300px"
						
						value="#{tbCARGOSBean.cargoDe}" id="idCARGOSSelectInput">
						<f:selectItem noSelectionOption="true" itemLabel="" />
						<f:selectItems value="#{tbCARGOSBean.distinctCargos}"
							var="tbCARGO" itemLabel="#{tbCARGO.deSCCARGO}"
							itemValue="#{tbCARGO}" />
							<p:ajax event="change" global="false"
							update="paneCargoDe
								" />
						
						<o:converter converterId="omnifaces.SelectItemsConverter"
							list="#{tbCARGOSBean.distinctCargos}" />
					</p:selectOneMenu>

				
				


				</h:panelGrid>



			</h:form>
			
			
			</h:panelGrid>
			
			
			
			<h:panelGrid id="paneCargos2" styleClass="dialogAT"
			columnClasses="col2,col2" style="margin-left: 10px;" columns="2">


			<h:form 
			
			 style="margin-left: 25px;
    width: 155px;
    margin-top: 4px !important;
        margin-right: 20px;">
				<h:outputText 
				style="top: 135px;
left: 302px;
width: 67px;
height: 15px;
text-align: left;
font: Normal 12px/15px Montserrat;
letter-spacing: 0px;
color: #000000;
opacity: 1;"
					value="Compatibilidade Mínima: " />

				<p:inputNumber id="AderenciaMinima"
				styleClass="iptAT"
				style="width:70% !important"
					value="#{tbCARGOSBean.aderenciaMinima}" symbol="%"
					symbolPosition="s" emptyValue="sign">
				
						
				</p:inputNumber>
				
				
				<p:commandButton style="background:#ED6D09;width:100%;margin-top: 44%;"
					actionListener="#{tbCARGOSBean.autoTrilhas(tbCARGOSBean.cargoDe)}"
					value="Simular"
					
							update="tbCARGOS">
				</p:commandButton>
				
				
			</h:form>

		</h:panelGrid>





		
		
			</div>

			<p:spacer></p:spacer>
			<p:spacer></p:spacer>

			<h:panelGrid columns="1" style="width:600px" id="tbCARGOS"
				 >

				 <p:tree styleClass="autoTrilhas" id ="autotrilhas" value="#{tbCARGOSBean.root}" var="node" orientation="horizontal">
        <p:treeNode styleClass="autoTrilhasNo">
            <h:outputText escape="false" style="
            top: 684px;
left: 309px;
width: 189px;
height: 18px;
text-align: left;
font: Bold 14px/18px Montserrat;
letter-spacing: 0px;
color: #FFFFFF;
opacity: 1;" value="#{node}" />

		
        </p:treeNode>
    </p:tree>
				</h:panelGrid>


	</ui:define>

</ui:composition>

</html>