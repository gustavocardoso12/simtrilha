<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:o="http://omnifaces.org/ui">
<ui:composition template="/templates/layout.xhtml">
  <ui:define name="content">

    <h:form  id="tbFORMACAODataForm" onkeypress="if (event.keyCode == 13) {return false; }">

			<p:dataTable style="width:100%" styleClass="DataTableFormacao"
				id="tbFORMACAOTable" value="#{tbFORMACAOBean.tbFORMACAOList}"
				var="tbFORMACAO" resizableColumns="true"
				 draggableColumns="true" paginatorPosition="bottom" widgetVar="tbFORMACAOTable"
				emptyMessage="#{messages.label_no_records_found}" reflow="true">

			
			

				<p:column style="width:40%;text-align:center;font-size:14px;color:white;font-weight:bold;" 
					headerText="#{messages.field_label_tbFORMACAO_deSCFORMACAO}">
					<h:outputText value="#{tbFORMACAO.deSCFORMACAO}" />
				</p:column>
			
				<p:column headerText="Ações" style="background:#410D34;width:100%;font-size:14px;font-weight:bold;"
					exportable="false">

					<p:commandButton 
					style="background:#ED6D09;width:33%"
						update=":viewTbFORMACAODialog"
						oncomplete="PF('viewTbFORMACAODialogWidget').show()"
						value="#{messages.VisualizarRegistro}">
						<f:setPropertyActionListener value="#{tbFORMACAO}"
							target="#{tbFORMACAOBean.tbFORMACAO}" />
					</p:commandButton>
			
				
				
				
	
					<p:commandButton 
						value="#{messages.EditarFormacao}"
						style="background:#ED6D09;width:33%"
						update=":editTbFORMACAODialog" resetValues="true"
						rendered="#{tbFORMACAOBean.isPermitted(tbFORMACAO, 'tbFORMACAO:update')}"
						action="#{tbFORMACAOBean.onDialogOpen(tbFORMACAO)}"
						oncomplete="PF('editTbFORMACAODialogWidget').show()"
						title="#{messages.label_edit}">
					</p:commandButton>
			
					<p:commandButton 
						value="#{messages.ExcluirFormacao}"
						style="background:#ED6D09;width:33%"
						rendered="#{tbFORMACAOBean.isPermitted(tbFORMACAO, 'tbFORMACAO:delete')}"
						oncomplete="PF('deleteTbFORMACAODialogWidget').show()"
						title="#{messages.label_delete}">
						<f:setPropertyActionListener value="#{tbFORMACAO}"
							target="#{tbFORMACAOBean.tbFORMACAO}" />
					</p:commandButton>
			</p:column>

			 <f:facet name="footer"  >
			 <p:commandButton
						value="#{messages.CadastrarFormacao}"
						style="background:#ED6D09;width:29.5%"
						action="#{tbFORMACAOBean.prepareNewTbFORMACAO()}"
						resetValues="true" update=":editTbFORMACAODialog"
						oncomplete="PF('editTbFORMACAODialogWidget').show()"
						rendered="#{tbFORMACAOBean.isPermitted('tbFORMACAO:create')}" />
			 </f:facet>
			
			</p:dataTable>

			
     
    </h:form>

    <p:confirmDialog style="font-size:14px;" showEffect="explode" hideEffect="fade" id="deleteTbFORMACAODialog" widgetVar="deleteTbFORMACAODialogWidget"
        rendered="#{tbFORMACAOBean.isPermitted(tbFORMACAOBean.tbFORMACAO, 'tbFORMACAO:delete')}" header="#{messages.label_confirm_deletion}"
        severity="alarm">
        <f:facet name="message"><h:outputText value="#{messages.label_delete_record}" escape="false"/></f:facet>

			<h:form>
			<p:panelGrid   columns="2" style="margin:auto"  >
				<p:commandButton value="#{messages.label_yes}"
					action="#{tbFORMACAOBean.delete}"
					update=":tbFORMACAODataForm :growlForm:growl"
					oncomplete="PF('deleteTbFORMACAODialogWidget').hide()" />
			
				<p:commandButton  value="#{messages.label_no}"
					onclick="PF('deleteTbFORMACAODialogWidget').hide()" type="button" />
					</p:panelGrid>
			</h:form>

		</p:confirmDialog>
    
    <p:dialog dynamic="true" id="editTbFORMACAODialog" header="#{tbFORMACAOBean.dialogHeader}"
    	    showEffect="explode" hideEffect="bounce" responsive="true" resizable="false"
            modal="true" widgetVar="editTbFORMACAODialogWidget" maximizable="false">
        <p:ajax event="close" listener="#{tbFORMACAOBean.reset}"/>
        <h:form id="editTbFORMACAOForm" >
            <p:outputPanel  id="tbFORMACAOEditPanel">
                <ui:include  src="/pages/tbFORMACAO/tbFORMACAOEditInclude.xhtml"/>
                <div style="text-align: center; margin:10px">
                    <p:commandButton value="#{messages.label_save}"
                            action="#{tbFORMACAOBean.persist}"
                            update=":editTbFORMACAOForm:tbFORMACAOEditPanel :tbFORMACAODataForm :growlForm:growl"
                            oncomplete="if(!args.validationFailed) PF('editTbFORMACAODialogWidget').hide()" />
                    
                </div>
            </p:outputPanel>
        </h:form>
    </p:dialog>
    
    
    

		<p:dialog dynamic="true" id="viewTbFORMACAODialog"
			showEffect="explode" hideEffect="bounce"
			header="#{messages.AuditoriaDescricao}" resizable="false" modal="true"
			widgetVar="viewTbFORMACAODialogWidget" >
			<p:ajax event="close" listener="#{tbFORMACAOBean.reset}" />
			<h:form id="viewTbFORMACAOForm">
				<ui:include src="/pages/tbFORMACAO/tbFORMACAOViewInclude.xhtml" />
			</h:form>
		</p:dialog>

	</ui:define>
</ui:composition>
</html>